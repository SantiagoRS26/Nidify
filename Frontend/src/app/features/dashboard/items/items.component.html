<div class="subheader">
    <h2>Ítems</h2>
    <div class="actions desktop-only">
        <button class="btn primary" (click)="showNewItemModal.set(true)">Nuevo ítem</button>
    </div>
    <button class="fab mobile-only" aria-label="Nuevo ítem" (click)="showNewItemModal.set(true)">＋</button>
    <div class="sr-only">Botón de acción flotante para crear un nuevo ítem</div>
</div>

<section class="items">
    <div class="toolbar card">
        <input class="search" type="search" placeholder="Buscar ítems" />
    </div>

    <div class="filters grid">
        <button class="chip active">Todos</button>
        <button class="chip">Únicos</button>
        <button class="chip">Recurrentes</button>
        <button class="chip">Necesario</button>
        <button class="chip">Opcional</button>
        <button class="chip">Capricho</button>
    </div>

    <div class="list grid">
        <div class="item card">
            <div class="item__head">
                <div>
                    <div class="item__title">Ejemplo de ítem</div>
                    <div class="item__meta">Muebles • Por cotizar</div>
                </div>
                <div class="item__price">$ 0</div>
            </div>
            <div class="item__footer">
                <div class="split">50% tú • 50% pareja</div>
                <div class="tags">
                    <span class="tag">Prioridad: Necesario</span>
                    <button class="btn" (click)="showSplitModal.set(true)">Dividir pago</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modal: Nuevo ítem (solo UI) -->
<div class="modal" [class.open]="showNewItemModal()">
    <div class="backdrop" (click)="showNewItemModal.set(false)"></div>
    <div class="dialog card">
        <div class="dialog__header">
            <h3>Nuevo ítem</h3>
            <button class="icon" (click)="showNewItemModal.set(false)">✕</button>
        </div>
        <div class="dialog__body">
            <div class="form-grid">
                <label>Nombre<input type="text" placeholder="Sillón" /></label>
                <label>Categoría<select>
                        <option>Muebles</option>
                        <option>Electro</option>
                        <option>Servicios</option>
                    </select></label>
                <label>Tipo<select>
                        <option>Único</option>
                        <option>Recurrente</option>
                    </select></label>
                <label>Precio<input type="number" placeholder="0" /></label>
                <label>Moneda<select>
                        <option>USD</option>
                        <option>EUR</option>
                        <option>ARS</option>
                        <option>MXN</option>
                    </select></label>
                <label>Prioridad<select>
                        <option>Necesario</option>
                        <option>Opcional</option>
                        <option>Capricho</option>
                    </select></label>
                <label>Estado<select>
                        <option>Por cotizar</option>
                        <option>Cotizado</option>
                        <option>Comprado</option>
                        <option>Descartado</option>
                    </select></label>
                <label>Link de compra<input type="text" placeholder="https://..." /></label>
            </div>
        </div>
        <div class="dialog__actions">
            <button class="btn" (click)="showNewItemModal.set(false)">Cancelar</button>
            <button class="btn primary">Guardar</button>
        </div>
    </div>
</div>

<!-- Modal: Dividir pago (solo UI) -->
<div class="modal" [class.open]="showSplitModal()">
    <div class="backdrop" (click)="showSplitModal.set(false)"></div>
    <div class="dialog card">
        <div class="dialog__header">
            <h3>Dividir pago</h3>
            <button class="icon" (click)="showSplitModal.set(false)">✕</button>
        </div>
        <div class="dialog__body">
            <div class="split-grid">
                <label>Tu aporte (%)<input type="number" value="50" /></label>
                <label>Pareja (%)<input type="number" value="50" /></label>
            </div>
            <p class="text-muted" style="margin-top:8px">Puedes usar porcentajes. En el futuro se soportarán montos.</p>
        </div>
        <div class="dialog__actions">
            <button class="btn" (click)="showSplitModal.set(false)">Cancelar</button>
            <button class="btn primary">Aplicar</button>
        </div>
    </div>
</div>